local character = game:GetService("Players").LocalPlayer.Character
local localPlayer = game:GetService("Players").LocalPlayer
local sigma = 1
local backpack = localPlayer.Backpack
local primary = character:FindFirstChild("HumanoidRootPart")

local selectedMode = "Suitcase"  
local songID = "142376088" 
local function change(num)
    songID = num
    return
end
local function getAllTools()
    local tools = {}
    if backpack then
        for _, v in pairs(backpack:GetChildren()) do
            if v:IsA("Tool") then
                table.insert(tools, v)
            end
        end
    end
    for _, v in pairs(character:GetChildren()) do
        if v:IsA("Tool") then
            table.insert(tools, v)
        end
    end
    return tools
end

local _, library = pcall(loadstring(game:HttpGet("https://raw.githubusercontent.com/ilikecheesemuchwow/eee/refs/heads/main/osmium")))

local window = library:CreateWindow("BOOMBOX GUI THING")

local test = window:CreateTab("Boombox")

local dropdown = test:CreateDropdown("Mode", {"Suitcase", "Back", "PP"}, function(mode)
    selectedMode = mode
end)

local sld = test:CreateSlider("Useless Slider", -100, 100, function(arg)

end)

test:CreateTextbox("Audio Id", function(value)
    change((value))
end, "142376088")

local toggle = test:CreateToggle("No Animations", true, function(bruh)
  game.Players.LocalPlayer.Character.Animate.Disabled = bruh
end)
local bruh = test:CreateButton("StopAnimations", function()
local Char = character
	local Hum = Char:FindFirstChildOfClass("Humanoid") or Char:FindFirstChildOfClass("AnimationController")

	for i,v in next, Hum:GetPlayingAnimationTracks() do
		v:Stop()
	end
end)
local batp = test:CreateButton("Boombox Build", function()
    sigma = 1
    if backpack and primary then
        local tools = getAllTools()
        for i, tool in pairs(tools) do
            if tool:IsA("Tool") and tool:FindFirstChild("Handle") then
                local function editGrip(tool, cframe, offset)
                    local origin = CFrame.new(cframe.p):Inverse()
                    local x, y, z = cframe:ToEulerAnglesXYZ()
                    local newGrip = CFrame.Angles(x, y, z)
                    local grip = (origin * newGrip):Inverse()
                    tool.Parent = backpack
                    tool.Grip = offset * grip
                    tool.Parent = character

                    for _, v in pairs(tool:GetDescendants()) do
                        if v:IsA("Sound") then
                            v:Stop()
                        end
                    end
                end

                tool.Handle.Massless = true
                local e = math.pi / 2

                if selectedMode == "PP" then
                    if sigma == 1 then
                        local cframe = CFrame.new(0.5, -1, 0) * CFrame.Angles(e * 2, e * 0, e * 0)
                        local offset = CFrame.new(0, 0, 0) * CFrame.Angles(0, 0, 0)
                        editGrip(tool, cframe, offset)
                        sigma = 2
                    elseif sigma == 2 then
                        local cframe = CFrame.new(2.5, -1, 0) * CFrame.Angles(e * 2, e * 0, e * 0)
                        local offset = CFrame.new(0, 0, 0) * CFrame.Angles(0, 0, 0)
                        editGrip(tool, cframe, offset)
                        sigma = 3
                    else
                        local cframe = CFrame.new(1.5, (-sigma * 2.5) + 4.5, 0) * CFrame.Angles(e * 2, e * 0, e * 1)
                        local offset = CFrame.new(0, 0, 0) * CFrame.Angles(0, 0, 0)
                        editGrip(tool, cframe, offset)
                        sigma = sigma + 1
                    end

                elseif selectedMode == "Back" then
                    anglee = 30
                    local cframe = CFrame.new(1.5, 0.9, -1)
                     * CFrame.Angles((e*1),(e*2),(e*anglee))
                    local offset = CFrame.new(0, 0, 0) *
                    CFrame.Angles(0, 0, 0)
                    editGrip(tool, cframe, offset)
                elseif selectedMode == "Suitcase" then
                    local cframe = CFrame.new(0, 0, 1.1)
                 * CFrame.Angles(0,e,e)
                local offset = CFrame.new(0, 0, 0) *
                    CFrame.Angles(0, 0, 0)
                editGrip(tool, cframe, offset)
                end

            else
                print("error")
                table.remove(tools, i)
            end
        end
    end
local function toHex(num)
    return string.format("0x%X", num);
end
local function playSongOnBoombox(boombox)
    local remote = boombox:FindFirstChild("Remote");
    if remote then
        local hexSongID = toHex(tonumber(songID));  -- Convert songID to number
        remote:FireServer("PlaySong", hexSongID);
    end
end
for _, descendant in pairs(character:GetDescendants()) do
    if (descendant.Name == "BoomBox") then
        playSongOnBoombox(descendant);
    end
end
end)
